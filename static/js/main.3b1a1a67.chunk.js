(this["webpackJsonpshopper-mapper"]=this["webpackJsonpshopper-mapper"]||[]).push([[0],{26:function(e,t,a){e.exports=a(54)},31:function(e,t,a){},49:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),o=(a(31),a(12)),i=a(7),l=a.n(i),u=a(9),m=a(3),p=a(4),h=a(6),d=a(5),v=a(8),y=a.n(v),f=(a(49),a(24)),g=a(25),E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleChangeLocation=function(t){console.log(t.target.value),e.setState({userInputlocation:t.target.value})},e.handleChangeQuery=function(t){e.setState({userInputQuery:t.target.value})},e.state={userInputlocation:"",userInputQuery:""},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:"header"},r.a.createElement("form",{className:"row",action:""},r.a.createElement("div",{className:"header-search col-auto"},r.a.createElement("div",null,r.a.createElement("label",{className:"sr-only",htmlFor:"searchLocation"},"Enter location:"),r.a.createElement("input",{className:"input input-location",onChange:this.handleChangeLocation,type:"text",name:"searchLocation",id:"searchLocation",placeholder:"Your location"})),r.a.createElement("div",null,r.a.createElement("label",{className:"sr-only",htmlFor:"searchQuery"},"Enter query:"),r.a.createElement("input",{className:"input input-query",onChange:this.handleChangeQuery,type:"text",name:"searchQuery",id:"searchQuery",placeholder:"Your query"}))),r.a.createElement("div",{className:"col-auto header-search-btn"},r.a.createElement("button",{className:"button",onClick:function(t){return e.props.handleClick(t,e.state.userInputlocation,e.state.userInputQuery)},type:"submit"},r.a.createElement(f.a,{className:"search-icon",icon:g.a})))))}}]),a}(n.Component),b=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).searchResult=function(t){var a=t.currentTarget.value;e.props.onClick(a)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.query.length>0?this.props.query.map((function(t){return r.a.createElement("button",{className:"query-btn",key:t.id,id:t.id,value:t.displayString,onClick:e.searchResult},t.displayString)})):r.a.createElement("p",null,"No results!"))}}]),a}(n.Component),k=(n.Component,function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.directionsArray.map((function(e){return r.a.createElement("ol",{key:e.index},r.a.createElement("li",null,e.narrative))})))}}]),a}(n.Component)),w=function(e){var t=e.children;return r.a.createElement("main",null,t)},j="tZVntk8rKYnj1VeUAi4cTD6mGHgEoP15",q=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleClick=function(){var t=Object(u.a)(l.a.mark((function t(a,n,r){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.getQueries(n,r);case 3:return t.prev=3,t.next=6,y()({method:"GET",url:"https://www.mapquestapi.com/staticmap/v5/map",responseType:"blob",params:{key:"tZVntk8rKYnj1VeUAi4cTD6mGHgEoP15",scalebar:"true|bottom",locations:"".concat(e.state.location," || ").concat(e.state.queryList[0].displayString),shape:"radius:10km|".concat(e.state.location),size:"600,600"}});case 6:c=t.sent,e.setState({mapImageData:URL.createObjectURL(c.data)}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("Axios request is failed ".concat(t.t0));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,a,n){return t.apply(this,arguments)}}(),e.destinationClick=function(t){e.setState({destination:t},(function(){try{y()({url:"http://www.mapquestapi.com/directions/v2/route",method:"GET",responseType:"json",params:{key:j,from:e.state.location,to:e.state.destination}}).then((function(t){t=t.data.route.legs[0].maneuvers,e.setState({directions:t})})),y()({method:"GET",url:"https://www.mapquestapi.com/staticmap/v5/map",responseType:"blob",params:{key:"tZVntk8rKYnj1VeUAi4cTD6mGHgEoP15",scalebar:"true|bottom",start:e.state.location,end:e.state.destination,size:"600,600"}}).then((function(t){e.setState({mapImageData:URL.createObjectURL(t.data)})}))}catch(t){console.log("Axios request is failed ".concat(t))}}))},e.state={queryList:[],searchResults:!1,destination:"",directions:[],mapImageData:"",location:""},e}return Object(p.a)(a,[{key:"getQueries",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r,c,s,i,u,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y()({url:"http://www.mapquestapi.com/geocoding/v1/address",method:"GET",responseType:"json",params:{key:j,location:t}});case 3:return n=e.sent,r=Object(o.a)(n.data.results,1),c=Object(o.a)(r[0].locations,1),s=c[0].latLng,i=s.lat,u=s.lng,e.next=11,y()({url:"http://www.mapquestapi.com//search/v4/place",method:"GET",responseType:"json",params:{location:"".concat(u,", ").concat(i),key:j,sort:"relevance",q:a}});case 11:m=e.sent,p=m.data.results,this.setState({queryList:p,searchResults:!0,location:t}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("Axios request is failed ".concat(e.t0));case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-80"},r.a.createElement(E,{handleClick:this.handleClick}),r.a.createElement(w,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"search-list col-50"},this.state.searchResults?r.a.createElement(b,{query:this.state.queryList,onClick:this.destinationClick}):r.a.createElement("p",null,"Loading...")),r.a.createElement("div",{className:"col-50"},this.state.mapImageData?r.a.createElement("img",{className:"query-image",src:this.state.mapImageData,alt:"map"}):r.a.createElement("img",{className:"query-image",src:"/components/assets/map.jpg",alt:"anothermap"}))),r.a.createElement(k,{directionsArray:this.state.directions})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.3b1a1a67.chunk.js.map